{"version":3,"file":"objectUtils.js","sources":["../../../../packages/utils/objectUtils.ts"],"sourcesContent":["/**\n * 根據路徑取得屬性\n * @param {Object} target 取屬性的目標\n * @param {string} path 屬性的路徑 => 'aaa.bbb.ccc'\n * @return {any} 取到的屬性值, 若沒取到就是undefined\n */\nexport function getPropertyByPath(target: Record<string, any>, path: string): any {\n    const pathArray = path.split('.');\n    let findTarget = target;\n    try {\n        while (pathArray.length > 0) {\n            findTarget = findTarget[pathArray.shift()!];\n        }\n        return findTarget;\n    } catch {\n        console.warn('從物件', target, `上取路徑'${path}'失敗`);\n        return;\n    }\n}\n\n/**\n * 將有串有變數名稱的字串替換為變數值\n * @param {Object} target 取變數值的目標\n * @param {string} keyPattern 串有變數名稱的字串 => 'Color_linght_[aaa.bbb]'\n * @return {string} 替換後的字串\n */\nexport function insertVariablePattern(target: Record<string, any>, keyPattern: string) {\n    let completeKey = keyPattern;\n\n    // 擷取所有被中括號括住的部份\n    const keyVariables = keyPattern.match(/\\[[^[\\]]*\\]/g) || [];\n    keyVariables.forEach(variablePattern => {\n        // 把中括號拿掉\n        const variablePath = variablePattern.replace(/\\[|\\]/g, '');\n\n        // 取到目標路徑的值\n        const variableValue = getPropertyByPath(target, variablePath);\n\n        // 如果有取到值就取代回去\n        completeKey = variableValue !== undefined ? completeKey.replace(variablePattern, variableValue) : '';\n    });\n    return completeKey;\n}"],"names":[],"mappings":";;AAMgB,SAAA,iBAAA,CAAkB,QAA6B,IAAmB,EAAA;AAC9E,EAAM,MAAA,SAAA,GAAY,IAAK,CAAA,KAAA,CAAM,GAAG,CAAA,CAAA;AAChC,EAAA,IAAI,UAAa,GAAA,MAAA,CAAA;AACjB,EAAI,IAAA;AACA,IAAO,OAAA,SAAA,CAAU,SAAS,CAAG,EAAA;AACzB,MAAa,UAAA,GAAA,UAAA,CAAW,SAAU,CAAA,KAAA,EAAQ,CAAA,CAAA;AAAA,KAC9C;AACA,IAAO,OAAA,UAAA,CAAA;AAAA,GACH,CAAA,OAAA,CAAA,EAAA;AACJ,IAAA,OAAA,CAAQ,IAAK,CAAA,oBAAA,EAAO,MAAQ,EAAA,CAAA,yBAAA,EAAQ,IAAI,CAAK,aAAA,CAAA,CAAA,CAAA;AAC7C,IAAA,OAAA;AAAA,GACJ;AACJ,CAAA;AAQgB,SAAA,qBAAA,CAAsB,QAA6B,UAAoB,EAAA;AACnF,EAAA,IAAI,WAAc,GAAA,UAAA,CAAA;AAGlB,EAAA,MAAM,YAAe,GAAA,UAAA,CAAW,KAAM,CAAA,cAAc,KAAK,EAAC,CAAA;AAC1D,EAAA,YAAA,CAAa,QAAQ,CAAmB,eAAA,KAAA;AAEpC,IAAA,MAAM,YAAe,GAAA,eAAA,CAAgB,OAAQ,CAAA,QAAA,EAAU,EAAE,CAAA,CAAA;AAGzD,IAAM,MAAA,aAAA,GAAgB,iBAAkB,CAAA,MAAA,EAAQ,YAAY,CAAA,CAAA;AAG5D,IAAA,WAAA,GAAc,kBAAkB,KAAY,CAAA,GAAA,WAAA,CAAY,OAAQ,CAAA,eAAA,EAAiB,aAAa,CAAI,GAAA,EAAA,CAAA;AAAA,GACrG,CAAA,CAAA;AACD,EAAO,OAAA,WAAA,CAAA;AACX;;;;;"}